<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>앳원스 십자말풀이 1호</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/puzzle.css">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
</head>
<body>
  <div class="container">
    <a href="index.html" class="home-link">← 홈으로</a>
    <p class="sr-only">O Yun님이 제공해주신 십자말풀이입니다.:) 코드로 작성해서 배포해봤습니다.</p>
    <h2>앳원스 십자말풀이 1호</h2>
    <table id="puzzle"></table>
    
    <div class="answer-buttons" id="answerButtons">
      <button id="horizontalBtn">가로 정답 보기</button>
      <button id="verticalBtn">세로 정답 보기</button>
    </div>

    <div class="secret-modal" id="secretModal">
      <div class="modal-content">
        <img src="https://pbs.twimg.com/media/GrzWfTuXMAA_UO-?format=jpg&name=4096x4096" alt="축하 이미지">
        <div class="modal-text">장규진 생일축하해!</div>
      </div>
    </div>

    <div class="hints">
      <div class="across">
        <h3>가로 문제</h3>
        <ol>
          <li>최한진 선수님의 별명 중 하나, 신생아에게도 방금 태어나셨어요? 인사하신다는.</li>
          <li>마디오스타에 등장한 DJ 후추님의 자작곡 이름</li>
          <li>마선호 선수님의 별명</li>
          <li>Don't delay. Start today. 건강한 가치를 추구하는 이 곳, 커뮤니티의 이름</li>
          <li>보디빌딩 대회에서 전 체급 1위를 일컫는 말, 그랑프리라고도 표현하기도 한다고 합니다.</li>
          <li>2025년 몬스터짐 대회가 열린 지역 이름</li>
          <li>작년에 이어 마선호 선수님이 대회장으로 있는 보디빌딩 대회 이름</li>
          <li>"OOO, 잘 봐봐"</li>
        </ol>
      </div>
      <div class="down">
        <h3>세로 문제</h3>
        <ol>
          <li>최대 심박수의 약 60~70%에 해당하는 유산소 운동 구간으로, 지방 연소에 가장 효과적이라고 알려져있음</li>
          <li>임금체불의 어려움 속에서도 굴하지않는 일타강사 마이클쌤의 원포인트 레슨 컨텐츠</li>
          <li>운동 시 관절이나 근육이 움직일 수 있는 범위</li>
          <li>카페 매니저님 닉네임 중 하나, 쿼카피디님이 귀여운 느낌으로 만들어주셨다고 합니다.</li>
          <li>나날이 일취월장하는 그림 실력을 지닌!! 그림 순위 526위 안에 드는!! 앳원스의 키보드워리어 회원</li>
          <li>봉투대표님의 유튜브 채널 이름</li>
          <li>웃는 모습이 매력적인, 최근 몬스터짐대회에서 당당히 IFBB PRO 카드를 거머쥔 앳원스의 막둥이 선수님</li>
        </ol>
      </div>
    </div>
  </div>

  <div class="copyright">
    © 2025. 퍼즐 제공: O Yun, 코드 작성: 후추. All rights reserved.
  </div>

  <script src="scripts/puzzle.js"></script>
  <script>
    const answers = {
      'h1': ['존', '중', '맨'],
      'h2': ['울', '등', '가'],
      'h3': ['마', '왕'],
      'h4': ['앳', '원', '스'],
      'h5': ['오', '버', '롤'],
      'h6': ['광', '명'],
      'h7': ['몬', '스', '터', '짐'],
      'h8': ['혜', '정', '아'],
      'v1': ['존', '투'],
      'v2': ['일', '마', '원'],
      'v3': ['가', '동', '범', '위'],
      'v4': ['앳', '몽', '이'],
      'v5': ['오', '윤'],
      'v6': ['짐', '종', '국'],
      'v7': ['명', '민', '정']
    };

    // 문제별 정보(방향, 번호, 길이, 시작점)를 담은 problems 배열 추가
    const problems = [
      { dir: 'h', num: '1', len: 3, start: [0, 0] },
      { dir: 'h', num: '2', len: 2, start: [0, 4] },
      { dir: 'h', num: '3', len: 2, start: [3, 3] },
      { dir: 'h', num: '4', len: 3, start: [4, 2] },
      { dir: 'h', num: '5', len: 3, start: [3, 8] },
      { dir: 'h', num: '6', len: 2, start: [7, 8] },
      { dir: 'h', num: '7', len: 4, start: [8, 3] },
      { dir: 'h', num: '8', len: 3, start: [9, 8] },
      { dir: 'v', num: '1', len: 2, start: [0, 0] },
      { dir: 'v', num: '2', len: 3, start: [2, 3] },
      { dir: 'v', num: '3', len: 4, start: [0, 6] },
      { dir: 'v', num: '4', len: 3, start: [4, 2] },
      { dir: 'v', num: '5', len: 2, start: [3, 8] },
      { dir: 'v', num: '6', len: 3, start: [8, 6] },
      { dir: 'v', num: '7', len: 3, start: [7, 9] }
    ];

    // 11x11 grid를 모두 block으로 초기화
    let grid = Array.from({ length: 11 }, () => Array.from({ length: 11 }, () => ({ block: true })));

    // problems 배열을 순회하며, 각 문제의 시작점부터 길이만큼 blank와 h/v 속성을 채웁니다.
    problems.forEach(({ dir, num, len, start }) => {
      let [y, x] = start;
      for (let i = 0; i < len; i++) {
        let cell = grid[y][x];
        if (cell.block) cell = { blank: true };
        if (dir === 'h') cell.h = num;
        if (dir === 'v') cell.v = num;
        // 시작점에 num도 추가
        if (i === 0) cell.num = num;
        grid[y][x] = cell;
        if (dir === 'h') x++;
        if (dir === 'v') y++;
      }
    });

    const secretSequence = ['5', '2', '6'];  // 순서: 5번(오버롤/오윤) -> 2번(울등가/일마원) -> 6번(광명/짐종국)

    // 퍼즐 초기화
    initializePuzzle(grid, answers, secretSequence);
  </script>
</body>
</html>
